DataTableConfig.order=[[0,"desc"]];requirejs(["jquery","util","fancyBox","datatables"],function(c,a,d,b){c(function(){a.loadCompanyStatNums();var e=c(".dTable").dataTable(DataTableConfig).api();fnFancyBox(".com-ajaxqrcode",function(){});fnFancyBox(".alter-company",function(){c("#al-com-save").unbind("click").click(function(){var g=parseInt(c(this).attr("data-id"));if(g>0){var f=c("#form_alter_company").serializeArray();c.post(shoproot+"?/Company/ajaxAlterCompanyInfo/",{id:g,data:f},function(h){if(h>0){c.fancybox.close();location.reload()}else{alert("修改失败")}})}})});fnFancyBox("#add_company",function(){c("#al-com-save").unbind("click").click(function(){var f=c("#form_alter_company").serializeArray();c.post(shoproot+"?/Company/ajaxAlterCompanyInfo/",{id:0,data:f},function(g){if(g>0){a.Alert("添加成功");c.fancybox.close();location.reload()}else{a.Alert("添加失败，请检查你的输入!",true)}})})});c(".com-delete-btn").click(function(){if(confirm("你确认要删除这个代理么，该操作无法恢复")){var f=c(this);c.post(shoproot+"?/Company/AjaxDeleteCompany/",{id:c(this).attr("data-id")},function(g){if(g>0){a.loadCompanyStatNums();a.Alert("删除成功");e.row(f.parents("tr")).remove().draw()}else{a.Alert("操作失败!",true)}})}})})});